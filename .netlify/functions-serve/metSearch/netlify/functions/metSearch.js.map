{
  "version": 3,
  "sources": ["../../home/amz/Northcoders/projects/nc_exhibition-curator/netlify/functions/metSearch.js"],
  "sourceRoot": "/tmp/tmp-950757-8hHYIoxMCYRR",
  "sourcesContent": ["// Proxy Met API search endpoint to resolve CORS issue\n\nexport async function handler(event) {\n    const query = event.queryStringParameters?.q;\n    if (!query) {\n      return {\n        statusCode: 400,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ error: \"Missing search query\" }),\n      };\n    }\n  \n    return fetch(`https://collectionapi.metmuseum.org/public/collection/v1/search?q=${query}&hasImages=true`)\n      .then((res) => {\n        if (!res.ok) {\n          return {\n            statusCode: res.status,\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ error: `Met API error ${res.status}` }),\n          };\n        }\n        return res.json().then((data) => ({\n          statusCode: 200,\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(data),\n        }));\n      })\n      .catch((err) => ({\n        statusCode: 500,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ error: err.message }),\n      }));\n  }\n  "],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,eAAsB,QAAQ,OAAO;AACjC,QAAM,QAAQ,MAAM,uBAAuB;AAC3C,MAAI,CAAC,OAAO;AACV,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,EAAE,OAAO,uBAAuB,CAAC;AAAA,IACxD;AAAA,EACF;AAEA,SAAO,MAAM,qEAAqE,KAAK,iBAAiB,EACrG,KAAK,CAAC,QAAQ;AACb,QAAI,CAAC,IAAI,IAAI;AACX,aAAO;AAAA,QACL,YAAY,IAAI;AAAA,QAChB,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,QAC9C,MAAM,KAAK,UAAU,EAAE,OAAO,iBAAiB,IAAI,MAAM,GAAG,CAAC;AAAA,MAC/D;AAAA,IACF;AACA,WAAO,IAAI,KAAK,EAAE,KAAK,CAAC,UAAU;AAAA,MAChC,YAAY;AAAA,MACZ,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,IAAI;AAAA,IAC3B,EAAE;AAAA,EACJ,CAAC,EACA,MAAM,CAAC,SAAS;AAAA,IACf,YAAY;AAAA,IACZ,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,IAC9C,MAAM,KAAK,UAAU,EAAE,OAAO,IAAI,QAAQ,CAAC;AAAA,EAC7C,EAAE;AACN;",
  "names": []
}
